



<!doctype html>
<html lang="en" class="no-js">
<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description"
          content="Predator manages the lifecycle of load-testing APIs, from creating the tests, to running them on a scheduled and on-demand, and viewing the results in real time">
    <meta name="keywords"
          content="performance testing api,load testing api,blazemeter,jmeter,performance testing tools,load testing tools,load test,kuberntes,dcos,docker,stress,api">
    <meta name="author" content="ZOOZ">
    
    <meta name="lang:clipboard.copy" content="Copy to clipboard">
    
    <meta name="lang:clipboard.copied" content="Copied to clipboard">
    
    <meta name="lang:search.language" content="en">
    
    <meta name="lang:search.pipeline.stopwords" content="True">
    
    <meta name="lang:search.pipeline.trimmer" content="True">
    
    <meta name="lang:search.result.none" content="No matching documents">
    
    <meta name="lang:search.result.one" content="1 matching document">
    
    <meta name="lang:search.result.other" content="# matching documents">
    
    <meta name="lang:search.tokenizer" content="[\s\-]+">
    
    <link rel="shortcut icon" href="assets/images/favicon.png">
    <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    

    <title>Predator - Distributed performance testing platform</title>

    
    <link rel="stylesheet" href="assets/stylesheets/application.3020aac5.css">
    
    
    
    
    <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
    
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
    <style>body, input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
    }

    code, kbd, pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
    }</style>
    
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
    
    
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-40865650-2", "predator-ng.com")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
    
    
    
</head>

<body dir="ltr">

<svg class="md-svg">
    <defs>
        
        
        <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
    </defs>
</svg>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>

<a href="#data-reuse-with-variables" tabindex="1" class="md-skip">
    Skip to content
</a>


<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://predator-ng.com" title="Predator" class="md-header-nav__button md-logo">
          <img src="https://zooz.github.io/predator/images/logo.png" width="60" height="30">
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Predator
            </span>
            <span class="md-header-nav__topic">
              Advanced Test Setup
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Zooz/predator/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>

<div class="md-container">
    
    
    
    
    <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
            
            
            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                    <div class="md-sidebar__inner">
                        <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://predator-ng.com" title="Predator" class="md-nav__button md-logo">
      <img src="https://zooz.github.io/predator/images/logo.png" width="60" height="30">
    </a>
    Predator
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Zooz/predator/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="about.html" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="installation.html" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="myfirsttest.html" title="My First Test" class="md-nav__link">
      My First Test
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="tests.html" title="Advanced Test Setup" class="md-nav__link md-nav__link--active">
      Advanced Test Setup
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="schedulesandreports.html" title="Schedules and Reports" class="md-nav__link">
      Schedules and Reports
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="configuration.html" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="contributing.html" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="apireference.html" title="API Reference" class="md-nav__link">
      API Reference
    </a>
  </li>

    
  </ul>
</nav>
                    </div>
                </div>
            </div>
            
            
            <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                    <div class="md-sidebar__inner">
                        
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                    </div>
                </div>
            </div>
            
            
            <div class="md-content">
                <article class="md-content__inner md-typeset">
                    
                    
                    <a href="https://github.com/Zooz/predator/blob/master/docs/devguide/docs/tests.md" title="Edit this page"
                       class="md-icon md-content__icon">&#xE3C9;</a>
                    
                    
                    <div class="admonition note">
<p class="admonition-title">What you should already know</p>
<p>We assume you have already familiarized yourself with the basic concepts used in Predator and that you successfully created your first test. If not, we strongly recommend you first complete the steps in the <a href="myfirsttest.html">My First Test</a> topic before proceeding with the instructions below.</p>
</div>
<h1 id="data-reuse-with-variables">Data Reuse with Variables<a class="headerlink" href="#data-reuse-with-variables" title="Permanent link">#</a></h1>
<p>The <strong>Captures</strong> field of the <a href="myfirsttest.html#http-request-properties">HTTP request properties</a> allows you to extract (capture) data from the request response and store it in a variable for reuse in another request. Use JSONPath syntax to extract the data of your choice. In the following example we extract the <code>id</code> field and store it in a <code>petId</code> variable:</p>
<p><img alt="Screenshot" src="images/extract_data_to_variable.png" /></p>
<p>You can then use <code>petId</code> in a request by placing it between double brackets, like so:</p>
<p><code>{{petId}}</code></p>
<p>Here's an example of using <code>{{petId}}</code> in the request path:</p>
<p><img alt="Screenshot" src="images/variable_in_path.png" /></p>
<h1 id="request-reuse-with-dsl-definitions">Request Reuse with DSL Definitions<a class="headerlink" href="#request-reuse-with-dsl-definitions" title="Permanent link">#</a></h1>
<p>This is the moment where Predator shows its teeth and unleashes its true power. </p>
<p>Writing a performance test that checks specific parts of your API end-to-end can be a huge hassle, but now it is effortless. By creating DSL definitions using Predator's Domain Specific Language (DSL), request templates are generated which you can then reuse in the same test and in other tests under the same DSL type, reducing replication.</p>
<p>Let's dive right in and get going with our first DSL definition. </p>
<div class="admonition note">
<p class="admonition-title">Predator API</p>
<p>This functionality is only available through the <a href="https://zooz.github.io/predator/indexapiref.html#section/Overview#section" target="_blank">Predator API</a>.</p>
</div>
<h2 id="creating-a-dsl-definition">Creating a DSL Definition<a class="headerlink" href="#creating-a-dsl-definition" title="Permanent link">#</a></h2>
<p>Before you can use a DSL definition, you must create it first. You do so by invoking the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-dsl-definition" target="_blank">Create DSL Definition</a> request. Here's an example request body for creating a DSL definition of a GET request. Notice how we use the <code>{{petId}}</code> in the url endpoint (we will create this variable in the example of a POST request DSL definition):</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;get-pet&quot;</span><span class="p">,</span>
    <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;get&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:3000/pets/{{petId}}&quot;</span>
        <span class="p">}</span>   
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The request body for creating a DSL definition of a POST request is a bit more elaborate, since it requires that you pass in the entire body that makes up the POST request. The following example shows how to do this. Notice how we add a <code>capture</code> array, in which we define the <code>petId</code> variable for storing the pet ID. We can then reuse it in another request (like in the example of a GET request above).</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;create-pet&quot;</span><span class="p">,</span>
    <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;post&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:3000/pets&quot;</span><span class="p">,</span>
            <span class="nt">&quot;json&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;mickey&quot;</span><span class="p">,</span>
                <span class="nt">&quot;species&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;capture&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;json&quot;</span><span class="p">:</span> <span class="s2">&quot;$.id&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;as&quot;</span><span class="p">:</span> <span class="s2">&quot;petId&quot;</span>
                <span class="p">}</span>   
            <span class="p">]</span>
        <span class="p">}</span>   
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2 id="creating-a-test-that-uses-the-dsl">Creating a Test that Uses the DSL<a class="headerlink" href="#creating-a-test-that-uses-the-dsl" title="Permanent link">#</a></h2>
<p>Tests that use a DSL definition can only be created using the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-test" target="_blank">Create Test</a> API request. The <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-test" target="_blank">Create Test</a> API request body must include all components that make up a test, including pre-scenario requests and scenarios. However, instead of defining the entire HTTP request in each scenario step (as you would through the Predator UI), you can now reference the HTTP request through its DSL definition. You do so, using the <code>action</code> property (in the <code>steps</code> array). </p>
<p>Here's an example:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Pet store&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;DSL&quot;</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dsl&quot;</span><span class="p">,</span> <span class="err">//</span> <span class="err">Make</span> <span class="err">sure</span> <span class="err">the</span> <span class="err">type</span> <span class="err">is</span> <span class="err">set</span> <span class="err">to</span> <span class="err">DSL</span>
  <span class="nt">&quot;before&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;petstore.create-pet&quot;</span>
        <span class="p">}</span>   
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;scenarios&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;scenario_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Only get pet&quot;</span><span class="p">,</span>
        <span class="nt">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;petstore.get-pet&quot;</span>
            <span class="p">}</span>   
        <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>

<p>There are two additional items to note:</p>
<ul>
<li>
<p>The <code>type</code> must always be set to <code>dsl</code>.</p>
</li>
<li>
<p>The <code>action</code> value uses the following syntax: <code>{dsl_group}.{dsl_name}</code>, in which the <code>dsl_group</code> is the name used in the path of the <a href="https://zooz.github.io/predator/indexapiref.html#operation/create-a-dsl-definition" target="_blank">Create DSL Definition</a> API request. </p>
</li>
</ul>
<p>If you login to the Predator UI after creating the test, you will notice that the test has been added with a type of <strong>dsl</strong>. </p>
<p><img alt="Screenshot" src="images/dsltestinui.png" /></p>
<p>You can now run the test as you would any other. </p>
                    
                    
                    
                    
                    
                    


                    
                </article>
            </div>
        </div>
    </main>
    
    
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="myfirsttest.html" title="My First Test" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                My First Test
              </span>
            </div>
          </a>
        
        
          <a href="schedulesandreports.html" title="Schedules and Reports" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Schedules and Reports
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
    
</div>

<script src="assets/javascripts/application.48c2c9de.js"></script>

<script>app.initialize({version: "1.0.4", url: {base: "."}})</script>


</body>
</html>